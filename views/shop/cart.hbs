<section class="row mb-3">
  <h2 class="col">Shopping Cart</h2>
</section>

{{# if items}}
<section class="row">
  <div class="col-md-12 col-lg-8 mb-3">
    <h3>Items</h3>
    <ul class="cart-items list-group list-group-flush">
      {{# each items}}
      <li class="cart-item list-group-item d-flex justify-content-between align-items-center">
        <p class="cart-product flex-grow-1 mb-0 text-truncate mr-2 lead">
          <strong class="h4">{{this.product.title}}</strong> - {{this.product.description}}
        </p>

        <span class="align-self-start badge badge-dark badge-pill mr-2">{{this.qty}}</span>

        <div class="cart-item-actions btn-toolbar flex-shrink-0" role="toolbar" aria-label="Cart Item Actions">
          <div class="btn-group btn-group-sm mr-2" role="group" aria-label="Add Remove">
            <a href="/cart/remove/{{this.id}}" class="btn btn-outline-dark"><i class="fas fa-minus"></i></a>
            <a href="/cart/add/{{this.id}}" class="btn btn-outline-dark"><i class="fas fa-plus"></i></a>
          </div>
          <div class="btn-group btn-group-sm" role="group" aria-label="Delete">
            <a href="/cart/remove-all/{{this.id}}" class="btn btn-danger text-white"><i class="far fa-trash-alt"></i></a>
          </div>
        </div>
      </li>
      {{/each}}
    </ul>
  </div>
  <aside class="col col-md-12 col-lg-4">
    <h3>Summary</h3>
    <table class="table table-sm table-borderless table-dark rounded">
      <thead class="thead-light">
        <tr>
          <th scope="col">Product</th>
          <th scope="col">Price</th>
          <th scope="col">Qty</th>
          <th scope="col">Total</th>
        </tr>
      </thead>
      <tbody>
        {{#each items}}
        <tr>
          <th scope="row">{{this.product.title}}</th>
          <td>${{this.product.price}}</td>
          <td>{{this.qty}}</td>
          <td>${{this.price}}</td>
        </tr>
        {{/each}}
      </tbody>
      <tfoot>
        <tr>
          <th colspan="3" scope="row" class="text-right">Items:</th>
          <td>{{totalQty}}</td>
        </tr>
        <tr>
          <th colspan="3" scope="row" class="text-right">Sub-total:</th>
          <td>${{totalPrice}}</td>
        </tr>
        <tr>
          <th colspan="3" scope="row" class="text-right">VAT ({{vat}}%):</th>
          <td>${{vatPrice}}</td>
        </tr>
        <tr>
          <th colspan="3" scope="row" class="text-right">Total:</th>
          <td>${{finalPrice}}</td>
        </tr>
      </tfoot>
    </table>
    <a href="#" class="btn btn-outline-dark float-right">Checkout</a>
  </aside>
</section>
{{else}}
<section class="row">
  <div class="col">
    <p class="lead">Nothing to see here, your cart is empty. Head back to the <a href="/">shop</a> and get some stuff.</p>
  </div>
</section>
{{/if}}
